# Ontology-test

Quick Rest API to modify an ontology. Considering we've got an ontology for companies, we should be able to add a new concept, to remove an existing concept, and to download the modified ontology in rdf/owl.


## REST API

| Http Method | URI | Action |
| --- | --- | --- |
| POST | http://[host]/companyontology/concepts/[classname, superclassname] | Add a concept |
| DELETE | http://[host]/companyontology/concepts/[classname] | Delete a concept |
| GET | http://[host]/companyontology/concepts/ | Retrieve the ontology in OWL |

To add a concept (ie. class), we have to give the name of the new class, ie `classname`. By default, the new class will be a subclass of the `Company` class. To create a subclass of an existing class, the `superclassname` should be given.


## Tests

For the tests we've created a simple ontology with these classes:

```
Company
-- Bank
---- PrivateBank
---- InvestmentBank
-- Airline
```

and 10 individuals (AirFrance, Qantas, UBSWealthManagement,...).

See `onto/company.owl` for the corresponding OWL file generated by `create-test-ontology.py` using the library `owlready2`.

You can look at the tests to check how the app is working:

> pytest

Or use `curl` :

```bash
curl http://localhost:5000/companyontology/concepts
curl -X POST -F 'classname=RetailBank' -F 'superclassname=Bank' http://localhost:5000/companyontology/concepts
curl -X DELETE http://localhost:5000/companyontology/concepts/Airline
```

Or [Postman](https://www.getpostman.com/).


## Libraries used

Not a lot of ontology libraries in python are still maintained. It looks like [owlready2][1] is still alive and kicking so we took a walk with it. An alternative may have been [rdflib][2] but it doesn't have an ontology editor.

Flask is used for the Rest API. It's clean and not bloated, so ok for a small API. For something bigger (with authentifications,...), Django would have been better.

[1]: https://pythonhosted.org/Owlready2/
[2]: https://rdflib.readthedocs.io/en/stable/index.html
